package practicapeliculas;

import java.io.File;
import java.io.IOException;
import javax.swing.JOptionPane;
import java.util.ArrayList;
import java.util.Iterator;
import javax.swing.JFileChooser;
import javax.swing.JTextField;
import javax.swing.filechooser.FileNameExtensionFilter;

public class VentanaPrincipal extends javax.swing.JFrame {

    /**
     * Creates new form VentanaPrincipal
     */
    
    private Usuario user;
    private Usuario j2; // jugador contrincante del trivia
    private Usuarios users;
    private Peliculas films;
    private Partida partida;
    private Clasificacion ranking;
    private int tipoACompartir;
    
    public VentanaPrincipal() {
        initComponents();

    }
    //COMENTARIO 
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        dialogoTrivia = new javax.swing.JDialog();
        bJugar = new javax.swing.JButton();
        jButton1 = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        labelContrincante = new javax.swing.JLabel();
        dialogoPreguntas = new javax.swing.JDialog();
        textoPregunta = new javax.swing.JLabel();
        bResponder = new javax.swing.JButton();
        jLabel3 = new javax.swing.JLabel();
        preguntaNumero = new javax.swing.JLabel();
        textoRespuesta = new javax.swing.JTextField();
        jScrollPane3 = new javax.swing.JScrollPane();
        textoPistas = new javax.swing.JTextArea();
        DialogPelis = new javax.swing.JDialog();
        BAnadirpeli = new javax.swing.JButton();
        jLabel4 = new javax.swing.JLabel();
        ComboPelis = new javax.swing.JComboBox<>();
        BCompartir = new javax.swing.JButton();
        BCritica = new javax.swing.JButton();
        BVerpeli = new javax.swing.JButton();
        DialogCompartir = new javax.swing.JDialog();
        bCompartir = new javax.swing.JButton();
        jLabel5 = new javax.swing.JLabel();
        jComboAQuien = new javax.swing.JComboBox<>();
        DialogAnadir = new javax.swing.JDialog();
        TextFieldTitulo = new javax.swing.JTextField();
        TextFieldAno = new javax.swing.JTextField();
        TextFieldDirector = new javax.swing.JTextField();
        TextFieldActor = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        TextFieldActriz = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        TextFieldGen = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        bAnadirPelicula = new javax.swing.JButton();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        DialogVerPeli = new javax.swing.JDialog();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        lTitulo = new javax.swing.JLabel();
        lAnno = new javax.swing.JLabel();
        lDir = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jLabel19 = new javax.swing.JLabel();
        lActor = new javax.swing.JLabel();
        lActriz = new javax.swing.JLabel();
        lGen = new javax.swing.JLabel();
        bAcept = new javax.swing.JButton();
        DialogListaAmigos = new javax.swing.JDialog();
        jComboLAmigos = new javax.swing.JComboBox<>();
        jLabel20 = new javax.swing.JLabel();
        jBotonVerAmigo = new javax.swing.JButton();
        DialogListaSolicit = new javax.swing.JDialog();
        jLabelSolitudes = new javax.swing.JLabel();
        jComboSolicitudes = new javax.swing.JComboBox<>();
        jButtonAcept = new javax.swing.JButton();
        jButtonRech = new javax.swing.JButton();
        DialogVerAmigo = new javax.swing.JDialog();
        jLabelNombreAmigo = new javax.swing.JLabel();
        jScrollPane5 = new javax.swing.JScrollPane();
        textoMuroAmigo = new javax.swing.JTextArea();
        DialogEnviarSolicitud = new javax.swing.JDialog();
        jLabel21 = new javax.swing.JLabel();
        jComboNoAmigos = new javax.swing.JComboBox<>();
        jButton4 = new javax.swing.JButton();
        dialogoPartidasPendientes = new javax.swing.JDialog();
        jLabel22 = new javax.swing.JLabel();
        comboPartidasPendientes = new javax.swing.JComboBox<>();
        bJugarPendiente = new javax.swing.JButton();
        dialogoRanking = new javax.swing.JDialog();
        jScrollPane1 = new javax.swing.JScrollPane();
        textoRanking = new javax.swing.JTextArea();
        jLabel23 = new javax.swing.JLabel();
        comboOrdenarClasificacion = new javax.swing.JComboBox<>();
        bAceptarClasificacion = new javax.swing.JButton();
        comboUsersClasificacion = new javax.swing.JComboBox<>();
        bVerDetallePartida = new javax.swing.JButton();
        bActualizar = new javax.swing.JButton();
        bVolcarTXT = new javax.swing.JButton();
        dialogoCritica = new javax.swing.JDialog();
        comboPelisCriticas = new javax.swing.JComboBox<>();
        BVer = new javax.swing.JButton();
        BCompartir1 = new javax.swing.JButton();
        jScrollPane4 = new javax.swing.JScrollPane();
        textoCriticas = new javax.swing.JTextArea();
        comboCriticas = new javax.swing.JComboBox<>();
        dialogoEscribirCritica = new javax.swing.JDialog();
        jLabel24 = new javax.swing.JLabel();
        jLabel25 = new javax.swing.JLabel();
        BAcept = new javax.swing.JButton();
        tPuntuacion = new javax.swing.JTextField();
        jScrollPane6 = new javax.swing.JScrollPane();
        tDescr = new javax.swing.JTextArea();
        jLabel26 = new javax.swing.JLabel();
        dialogoPartidasTerminadas = new javax.swing.JDialog();
        comboPartidasTerminadas = new javax.swing.JComboBox<>();
        bCompartirPartida = new javax.swing.JButton();
        jScrollPane7 = new javax.swing.JScrollPane();
        textoResultadoPartida = new javax.swing.JTextArea();
        bVerPartida = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();
        jPanel1 = new javax.swing.JPanel();
        bCompartirTodo = new javax.swing.JButton();
        bVerCriticas = new javax.swing.JButton();
        bVerPeliculas = new javax.swing.JButton();
        bCerrarSesion = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        textoMuro = new javax.swing.JTextArea();
        jMenuBar1 = new javax.swing.JMenuBar();
        bAmigos = new javax.swing.JMenu();
        bVerAmigos = new javax.swing.JMenuItem();
        bSolicitudes = new javax.swing.JMenuItem();
        bEnviarSolicitud = new javax.swing.JMenuItem();
        jMenu2 = new javax.swing.JMenu();
        botonJugarPartida = new javax.swing.JMenuItem();
        bPartidasPendientes = new javax.swing.JMenuItem();
        bPartidasTerminadas = new javax.swing.JMenuItem();
        bClasificacion = new javax.swing.JMenuItem();

        dialogoTrivia.setTitle("Trivia");
        dialogoTrivia.setBounds(new java.awt.Rectangle(0, 0, 500, 500));
        dialogoTrivia.setResizable(false);
        dialogoTrivia.setSize(new java.awt.Dimension(409, 372));

        bJugar.setText("JUGAR");
        bJugar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bJugarActionPerformed(evt);
            }
        });

        jButton1.setText("Cancelar partida");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jLabel2.setText("Contrincante:");
        jLabel2.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);

        labelContrincante.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        labelContrincante.setText("<contricante>");
        labelContrincante.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);

        javax.swing.GroupLayout dialogoTriviaLayout = new javax.swing.GroupLayout(dialogoTrivia.getContentPane());
        dialogoTrivia.getContentPane().setLayout(dialogoTriviaLayout);
        dialogoTriviaLayout.setHorizontalGroup(
            dialogoTriviaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoTriviaLayout.createSequentialGroup()
                .addContainerGap(145, Short.MAX_VALUE)
                .addGroup(dialogoTriviaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogoTriviaLayout.createSequentialGroup()
                        .addGroup(dialogoTriviaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                            .addComponent(bJugar, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel2)
                            .addComponent(labelContrincante))
                        .addGap(144, 144, 144))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogoTriviaLayout.createSequentialGroup()
                        .addComponent(jButton1)
                        .addContainerGap())))
        );
        dialogoTriviaLayout.setVerticalGroup(
            dialogoTriviaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoTriviaLayout.createSequentialGroup()
                .addGap(99, 99, 99)
                .addComponent(jLabel2)
                .addGap(18, 18, 18)
                .addComponent(labelContrincante)
                .addGap(35, 35, 35)
                .addComponent(bJugar, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(62, 62, 62)
                .addComponent(jButton1)
                .addGap(14, 14, 14))
        );

        dialogoPreguntas.setTitle("Trivia");
        dialogoPreguntas.setResizable(false);
        dialogoPreguntas.setSize(new java.awt.Dimension(700, 700));

        textoPregunta.setText("<pregunta>");

        bResponder.setText("Responder");
        bResponder.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bResponderActionPerformed(evt);
            }
        });

        jLabel3.setText("Pistas:");

        preguntaNumero.setFont(new java.awt.Font("Dialog", 1, 14)); // NOI18N
        preguntaNumero.setText("<Pregunta 01>");

        textoRespuesta.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                textoRespuestaActionPerformed(evt);
            }
        });

        textoPistas.setEditable(false);
        textoPistas.setColumns(20);
        textoPistas.setRows(5);
        jScrollPane3.setViewportView(textoPistas);

        javax.swing.GroupLayout dialogoPreguntasLayout = new javax.swing.GroupLayout(dialogoPreguntas.getContentPane());
        dialogoPreguntas.getContentPane().setLayout(dialogoPreguntasLayout);
        dialogoPreguntasLayout.setHorizontalGroup(
            dialogoPreguntasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoPreguntasLayout.createSequentialGroup()
                .addGroup(dialogoPreguntasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(dialogoPreguntasLayout.createSequentialGroup()
                        .addGap(260, 260, 260)
                        .addComponent(preguntaNumero))
                    .addGroup(dialogoPreguntasLayout.createSequentialGroup()
                        .addGap(278, 278, 278)
                        .addComponent(textoPregunta))
                    .addGroup(dialogoPreguntasLayout.createSequentialGroup()
                        .addGap(217, 217, 217)
                        .addComponent(textoRespuesta, javax.swing.GroupLayout.PREFERRED_SIZE, 187, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(dialogoPreguntasLayout.createSequentialGroup()
                        .addGap(264, 264, 264)
                        .addComponent(bResponder))
                    .addGroup(dialogoPreguntasLayout.createSequentialGroup()
                        .addGap(291, 291, 291)
                        .addComponent(jLabel3))
                    .addGroup(dialogoPreguntasLayout.createSequentialGroup()
                        .addGap(199, 199, 199)
                        .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(203, Short.MAX_VALUE))
        );
        dialogoPreguntasLayout.setVerticalGroup(
            dialogoPreguntasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoPreguntasLayout.createSequentialGroup()
                .addGap(58, 58, 58)
                .addComponent(preguntaNumero)
                .addGap(18, 18, 18)
                .addComponent(textoPregunta)
                .addGap(55, 55, 55)
                .addComponent(textoRespuesta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(bResponder)
                .addGap(67, 67, 67)
                .addComponent(jLabel3)
                .addGap(12, 12, 12)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 222, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(15, Short.MAX_VALUE))
        );

        dialogoPreguntas.getAccessibleContext().setAccessibleParent(dialogoTrivia);

        DialogPelis.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        DialogPelis.setTitle("Películas del sistema");
        DialogPelis.setMinimumSize(new java.awt.Dimension(477, 334));
        DialogPelis.setResizable(false);
        DialogPelis.setSize(new java.awt.Dimension(477, 334));

        BAnadirpeli.setText("Añadir pelicula");
        BAnadirpeli.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BAnadirpeliActionPerformed(evt);
            }
        });

        jLabel4.setText("PELÍCULAS");

        ComboPelis.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ComboPelisActionPerformed(evt);
            }
        });

        BCompartir.setText("Compartir...");
        BCompartir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BCompartirActionPerformed(evt);
            }
        });

        BCritica.setText("Realizar crítica");
        BCritica.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BCriticaActionPerformed(evt);
            }
        });

        BVerpeli.setText("Ver");
        BVerpeli.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BVerpeliActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout DialogPelisLayout = new javax.swing.GroupLayout(DialogPelis.getContentPane());
        DialogPelis.getContentPane().setLayout(DialogPelisLayout);
        DialogPelisLayout.setHorizontalGroup(
            DialogPelisLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(DialogPelisLayout.createSequentialGroup()
                .addGroup(DialogPelisLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(DialogPelisLayout.createSequentialGroup()
                        .addGap(211, 211, 211)
                        .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 102, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(DialogPelisLayout.createSequentialGroup()
                        .addGap(74, 74, 74)
                        .addComponent(ComboPelis, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(DialogPelisLayout.createSequentialGroup()
                        .addGap(74, 74, 74)
                        .addGroup(DialogPelisLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(BCompartir, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(BCritica))
                        .addGap(107, 107, 107)
                        .addComponent(BAnadirpeli))
                    .addGroup(DialogPelisLayout.createSequentialGroup()
                        .addGap(74, 74, 74)
                        .addComponent(BVerpeli, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(67, Short.MAX_VALUE))
        );
        DialogPelisLayout.setVerticalGroup(
            DialogPelisLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(DialogPelisLayout.createSequentialGroup()
                .addGap(35, 35, 35)
                .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(29, 29, 29)
                .addComponent(ComboPelis, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(DialogPelisLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(DialogPelisLayout.createSequentialGroup()
                        .addComponent(BCompartir)
                        .addGap(18, 18, 18)
                        .addComponent(BCritica))
                    .addGroup(DialogPelisLayout.createSequentialGroup()
                        .addGap(26, 26, 26)
                        .addComponent(BAnadirpeli, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(18, 18, 18)
                .addComponent(BVerpeli)
                .addContainerGap(66, Short.MAX_VALUE))
        );

        DialogCompartir.setTitle("Compartir");
        DialogCompartir.setMinimumSize(new java.awt.Dimension(308, 300));
        DialogCompartir.setResizable(false);
        DialogCompartir.setSize(new java.awt.Dimension(308, 300));
        DialogCompartir.getContentPane().setLayout(new java.awt.GridBagLayout());

        bCompartir.setText("Compartir");
        bCompartir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bCompartirActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(67, 107, 60, 0);
        DialogCompartir.getContentPane().add(bCompartir, gridBagConstraints);

        jLabel5.setFont(new java.awt.Font("Dialog", 1, 14)); // NOI18N
        jLabel5.setText("Compartir con:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.ipady = 27;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(51, 105, 0, 0);
        DialogCompartir.getContentPane().add(jLabel5, gridBagConstraints);

        jComboAQuien.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboAQuienActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 3;
        gridBagConstraints.ipadx = 138;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(18, 66, 0, 71);
        DialogCompartir.getContentPane().add(jComboAQuien, gridBagConstraints);

        DialogAnadir.setTitle("Añadir película al sistema");
        DialogAnadir.setMinimumSize(new java.awt.Dimension(400, 300));
        DialogAnadir.setResizable(false);
        DialogAnadir.setSize(new java.awt.Dimension(400, 315));

        TextFieldAno.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TextFieldAnoActionPerformed(evt);
            }
        });

        TextFieldDirector.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TextFieldDirectorActionPerformed(evt);
            }
        });

        TextFieldActor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TextFieldActorActionPerformed(evt);
            }
        });

        jLabel6.setText("NUEVA PELICULA");

        jLabel7.setText("Titulo:");

        jLabel8.setText("Año:");

        bAnadirPelicula.setText("Añadir");
        bAnadirPelicula.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bAnadirPeliculaActionPerformed(evt);
            }
        });

        jLabel9.setText("Director/a:");

        jLabel10.setText("Actor:");

        jLabel11.setText("Actriz: ");

        jLabel12.setText("Género:");

        javax.swing.GroupLayout DialogAnadirLayout = new javax.swing.GroupLayout(DialogAnadir.getContentPane());
        DialogAnadir.getContentPane().setLayout(DialogAnadirLayout);
        DialogAnadirLayout.setHorizontalGroup(
            DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, DialogAnadirLayout.createSequentialGroup()
                .addContainerGap(154, Short.MAX_VALUE)
                .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addComponent(jLabel10)
                        .addComponent(jLabel6))
                    .addGroup(DialogAnadirLayout.createSequentialGroup()
                        .addGap(64, 64, 64)
                        .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(DialogAnadirLayout.createSequentialGroup()
                                .addComponent(jLabel11)
                                .addGap(18, 18, 18)
                                .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(TextFieldActor, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(TextFieldActriz, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(DialogAnadirLayout.createSequentialGroup()
                                .addComponent(jLabel12)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(TextFieldGen, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addGap(26, 26, 26))
            .addGroup(DialogAnadirLayout.createSequentialGroup()
                .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(DialogAnadirLayout.createSequentialGroup()
                        .addGap(29, 29, 29)
                        .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(DialogAnadirLayout.createSequentialGroup()
                                .addComponent(jLabel9)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(TextFieldDirector, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(DialogAnadirLayout.createSequentialGroup()
                                .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel7)
                                    .addComponent(jLabel8))
                                .addGap(31, 31, 31)
                                .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(TextFieldAno, javax.swing.GroupLayout.DEFAULT_SIZE, 100, Short.MAX_VALUE)
                                    .addComponent(TextFieldTitulo)))))
                    .addGroup(DialogAnadirLayout.createSequentialGroup()
                        .addGap(165, 165, 165)
                        .addComponent(bAnadirPelicula)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        DialogAnadirLayout.setVerticalGroup(
            DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(DialogAnadirLayout.createSequentialGroup()
                .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(DialogAnadirLayout.createSequentialGroup()
                        .addGap(34, 34, 34)
                        .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(31, 31, 31)
                        .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(TextFieldTitulo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel10))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(TextFieldAno, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel11))
                        .addGap(20, 20, 20)
                        .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel9)
                            .addComponent(TextFieldDirector, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel12)
                            .addComponent(TextFieldGen, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(DialogAnadirLayout.createSequentialGroup()
                        .addGap(97, 97, 97)
                        .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel7)
                            .addComponent(TextFieldActor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(DialogAnadirLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(DialogAnadirLayout.createSequentialGroup()
                                .addGap(24, 24, 24)
                                .addComponent(jLabel8))
                            .addGroup(DialogAnadirLayout.createSequentialGroup()
                                .addGap(18, 18, 18)
                                .addComponent(TextFieldActriz, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 40, Short.MAX_VALUE)
                .addComponent(bAnadirPelicula)
                .addGap(38, 38, 38))
        );

        DialogVerPeli.setTitle("Ver película");
        DialogVerPeli.setMinimumSize(new java.awt.Dimension(408, 301));
        DialogVerPeli.setResizable(false);
        DialogVerPeli.setSize(new java.awt.Dimension(584, 427));

        jLabel13.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel13.setText("PELICULA");

        jLabel14.setText("TITULO");

        jLabel15.setText("AÑO");

        jLabel16.setText("DIRECTOR/A");

        lTitulo.setText("titulo");

        lAnno.setText("año");

        lDir.setText("director");

        jLabel17.setText("ACTOR");

        jLabel18.setText("ACTRIZ");

        jLabel19.setText("GÉNERO");

        lActor.setText("actor");

        lActriz.setText("actriz");

        lGen.setText("genero");

        bAcept.setText("ACEPTAR");
        bAcept.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bAceptActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout DialogVerPeliLayout = new javax.swing.GroupLayout(DialogVerPeli.getContentPane());
        DialogVerPeli.getContentPane().setLayout(DialogVerPeliLayout);
        DialogVerPeliLayout.setHorizontalGroup(
            DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(DialogVerPeliLayout.createSequentialGroup()
                .addGap(21, 21, 21)
                .addGroup(DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(DialogVerPeliLayout.createSequentialGroup()
                        .addGroup(DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel14)
                            .addComponent(jLabel19)
                            .addComponent(jLabel15)
                            .addComponent(jLabel16))
                        .addGap(34, 34, 34)
                        .addGroup(DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lTitulo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addGroup(DialogVerPeliLayout.createSequentialGroup()
                                .addComponent(lAnno, javax.swing.GroupLayout.PREFERRED_SIZE, 91, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(0, 0, Short.MAX_VALUE))
                            .addComponent(lDir, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(lGen, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .addGroup(DialogVerPeliLayout.createSequentialGroup()
                        .addGap(28, 28, 28)
                        .addGroup(DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel18)
                            .addComponent(jLabel17))
                        .addGap(34, 34, 34)
                        .addGroup(DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lActor, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(lActriz, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addGap(54, 54, 54))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, DialogVerPeliLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(bAcept)
                .addGap(242, 242, 242))
            .addGroup(DialogVerPeliLayout.createSequentialGroup()
                .addGap(230, 230, 230)
                .addComponent(jLabel13)
                .addContainerGap(233, Short.MAX_VALUE))
        );
        DialogVerPeliLayout.setVerticalGroup(
            DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(DialogVerPeliLayout.createSequentialGroup()
                .addGap(28, 28, 28)
                .addComponent(jLabel13)
                .addGap(46, 46, 46)
                .addGroup(DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel14)
                    .addComponent(lTitulo))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel15)
                    .addComponent(lAnno))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lDir)
                    .addComponent(jLabel16))
                .addGap(18, 18, 18)
                .addGroup(DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel19)
                    .addComponent(lGen))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 23, Short.MAX_VALUE)
                .addGroup(DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel17)
                    .addComponent(lActor))
                .addGap(18, 18, 18)
                .addGroup(DialogVerPeliLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel18)
                    .addComponent(lActriz))
                .addGap(64, 64, 64)
                .addComponent(bAcept)
                .addGap(49, 49, 49))
        );

        DialogListaAmigos.setTitle("Lista de amigos");
        DialogListaAmigos.setMinimumSize(new java.awt.Dimension(207, 296));
        DialogListaAmigos.setResizable(false);
        DialogListaAmigos.setSize(new java.awt.Dimension(327, 296));

        jComboLAmigos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboLAmigosActionPerformed(evt);
            }
        });

        jLabel20.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        jLabel20.setText("Amigos");

        jBotonVerAmigo.setText("Ver amigo");
        jBotonVerAmigo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBotonVerAmigoActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout DialogListaAmigosLayout = new javax.swing.GroupLayout(DialogListaAmigos.getContentPane());
        DialogListaAmigos.getContentPane().setLayout(DialogListaAmigosLayout);
        DialogListaAmigosLayout.setHorizontalGroup(
            DialogListaAmigosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, DialogListaAmigosLayout.createSequentialGroup()
                .addGap(0, 78, Short.MAX_VALUE)
                .addComponent(jComboLAmigos, javax.swing.GroupLayout.PREFERRED_SIZE, 178, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(71, 71, 71))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, DialogListaAmigosLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(DialogListaAmigosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, DialogListaAmigosLayout.createSequentialGroup()
                        .addComponent(jLabel20, javax.swing.GroupLayout.PREFERRED_SIZE, 82, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(115, 115, 115))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, DialogListaAmigosLayout.createSequentialGroup()
                        .addComponent(jBotonVerAmigo)
                        .addGap(117, 117, 117))))
        );
        DialogListaAmigosLayout.setVerticalGroup(
            DialogListaAmigosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(DialogListaAmigosLayout.createSequentialGroup()
                .addGap(38, 38, 38)
                .addComponent(jLabel20, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(42, 42, 42)
                .addComponent(jComboLAmigos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 66, Short.MAX_VALUE)
                .addComponent(jBotonVerAmigo)
                .addGap(49, 49, 49))
        );

        DialogListaSolicit.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        DialogListaSolicit.setTitle("Solicitudes de amistad");
        DialogListaSolicit.setMinimumSize(new java.awt.Dimension(305, 300));
        DialogListaSolicit.setResizable(false);
        DialogListaSolicit.setSize(new java.awt.Dimension(305, 300));

        jLabelSolitudes.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        jLabelSolitudes.setText("Solicitudes de amistad");

        jComboSolicitudes.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboSolicitudesActionPerformed(evt);
            }
        });

        jButtonAcept.setText("Aceptar");
        jButtonAcept.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAceptActionPerformed(evt);
            }
        });

        jButtonRech.setText("Rechazar");
        jButtonRech.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonRechActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout DialogListaSolicitLayout = new javax.swing.GroupLayout(DialogListaSolicit.getContentPane());
        DialogListaSolicit.getContentPane().setLayout(DialogListaSolicitLayout);
        DialogListaSolicitLayout.setHorizontalGroup(
            DialogListaSolicitLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(DialogListaSolicitLayout.createSequentialGroup()
                .addGroup(DialogListaSolicitLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(DialogListaSolicitLayout.createSequentialGroup()
                        .addGap(26, 26, 26)
                        .addComponent(jButtonAcept, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jButtonRech, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(DialogListaSolicitLayout.createSequentialGroup()
                        .addGap(47, 47, 47)
                        .addGroup(DialogListaSolicitLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabelSolitudes, javax.swing.GroupLayout.PREFERRED_SIZE, 212, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(DialogListaSolicitLayout.createSequentialGroup()
                                .addGap(28, 28, 28)
                                .addComponent(jComboSolicitudes, javax.swing.GroupLayout.PREFERRED_SIZE, 153, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addContainerGap(35, Short.MAX_VALUE))
        );
        DialogListaSolicitLayout.setVerticalGroup(
            DialogListaSolicitLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(DialogListaSolicitLayout.createSequentialGroup()
                .addGap(24, 24, 24)
                .addComponent(jLabelSolitudes, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jComboSolicitudes, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 116, Short.MAX_VALUE)
                .addGroup(DialogListaSolicitLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButtonAcept, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonRech, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(29, 29, 29))
        );

        DialogVerAmigo.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        DialogVerAmigo.setMinimumSize(new java.awt.Dimension(591, 300));
        DialogVerAmigo.getContentPane().setLayout(new java.awt.GridBagLayout());

        jLabelNombreAmigo.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
        jLabelNombreAmigo.setText("Muro de...");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.ipadx = 296;
        gridBagConstraints.ipady = 41;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.insets = new java.awt.Insets(6, 6, 0, 0);
        DialogVerAmigo.getContentPane().add(jLabelNombreAmigo, gridBagConstraints);

        textoMuroAmigo.setEditable(false);
        textoMuroAmigo.setColumns(20);
        textoMuroAmigo.setRows(5);
        jScrollPane5.setViewportView(textoMuroAmigo);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.ipadx = 701;
        gridBagConstraints.ipady = 385;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
        gridBagConstraints.weightx = 1.0;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(6, 6, 6, 6);
        DialogVerAmigo.getContentPane().add(jScrollPane5, gridBagConstraints);

        DialogEnviarSolicitud.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        DialogEnviarSolicitud.setTitle("Enviar solicitud");
        DialogEnviarSolicitud.setMinimumSize(new java.awt.Dimension(358, 305));
        DialogEnviarSolicitud.setResizable(false);
        DialogEnviarSolicitud.setSize(new java.awt.Dimension(358, 305));

        jLabel21.setFont(new java.awt.Font("Dialog", 1, 14)); // NOI18N
        jLabel21.setText("Enviar solicitud de amistad");

        jComboNoAmigos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboNoAmigosActionPerformed(evt);
            }
        });

        jButton4.setText("Enviar");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout DialogEnviarSolicitudLayout = new javax.swing.GroupLayout(DialogEnviarSolicitud.getContentPane());
        DialogEnviarSolicitud.getContentPane().setLayout(DialogEnviarSolicitudLayout);
        DialogEnviarSolicitudLayout.setHorizontalGroup(
            DialogEnviarSolicitudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(DialogEnviarSolicitudLayout.createSequentialGroup()
                .addGroup(DialogEnviarSolicitudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(DialogEnviarSolicitudLayout.createSequentialGroup()
                        .addGap(82, 82, 82)
                        .addGroup(DialogEnviarSolicitudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel21, javax.swing.GroupLayout.PREFERRED_SIZE, 195, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(DialogEnviarSolicitudLayout.createSequentialGroup()
                                .addGap(10, 10, 10)
                                .addComponent(jComboNoAmigos, javax.swing.GroupLayout.PREFERRED_SIZE, 169, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(DialogEnviarSolicitudLayout.createSequentialGroup()
                        .addGap(144, 144, 144)
                        .addComponent(jButton4)))
                .addContainerGap(81, Short.MAX_VALUE))
        );
        DialogEnviarSolicitudLayout.setVerticalGroup(
            DialogEnviarSolicitudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(DialogEnviarSolicitudLayout.createSequentialGroup()
                .addGap(34, 34, 34)
                .addComponent(jLabel21, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(30, 30, 30)
                .addComponent(jComboNoAmigos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 104, Short.MAX_VALUE)
                .addComponent(jButton4)
                .addGap(36, 36, 36))
        );

        dialogoPartidasPendientes.setTitle("Partidas pendientes");
        dialogoPartidasPendientes.setResizable(false);
        dialogoPartidasPendientes.setSize(new java.awt.Dimension(400, 300));

        jLabel22.setText("Tienes partidas pendientes con:");

        comboPartidasPendientes.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                comboPartidasPendientesActionPerformed(evt);
            }
        });

        bJugarPendiente.setText("Jugar");
        bJugarPendiente.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bJugarPendienteActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout dialogoPartidasPendientesLayout = new javax.swing.GroupLayout(dialogoPartidasPendientes.getContentPane());
        dialogoPartidasPendientes.getContentPane().setLayout(dialogoPartidasPendientesLayout);
        dialogoPartidasPendientesLayout.setHorizontalGroup(
            dialogoPartidasPendientesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoPartidasPendientesLayout.createSequentialGroup()
                .addContainerGap(119, Short.MAX_VALUE)
                .addGroup(dialogoPartidasPendientesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogoPartidasPendientesLayout.createSequentialGroup()
                        .addComponent(jLabel22)
                        .addGap(100, 100, 100))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogoPartidasPendientesLayout.createSequentialGroup()
                        .addComponent(comboPartidasPendientes, javax.swing.GroupLayout.PREFERRED_SIZE, 152, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(118, 118, 118))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogoPartidasPendientesLayout.createSequentialGroup()
                        .addComponent(bJugarPendiente)
                        .addGap(162, 162, 162))))
        );
        dialogoPartidasPendientesLayout.setVerticalGroup(
            dialogoPartidasPendientesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoPartidasPendientesLayout.createSequentialGroup()
                .addGap(57, 57, 57)
                .addComponent(jLabel22)
                .addGap(31, 31, 31)
                .addComponent(comboPartidasPendientes, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(54, 54, 54)
                .addComponent(bJugarPendiente)
                .addContainerGap(84, Short.MAX_VALUE))
        );

        dialogoRanking.setTitle("Clasificación");
        dialogoRanking.setSize(new java.awt.Dimension(1221, 806));

        textoRanking.setColumns(20);
        textoRanking.setRows(5);
        jScrollPane1.setViewportView(textoRanking);

        jLabel23.setText("Ordenar por:");

        comboOrdenarClasificacion.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Nombre", "Porcentaje victorias", "Número victorias", "Puntos" }));
        comboOrdenarClasificacion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                comboOrdenarClasificacionActionPerformed(evt);
            }
        });

        bAceptarClasificacion.setText("Aceptar");
        bAceptarClasificacion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bAceptarClasificacionActionPerformed(evt);
            }
        });

        bVerDetallePartida.setText("Ver Detalles");
        bVerDetallePartida.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bVerDetallePartidaActionPerformed(evt);
            }
        });

        bActualizar.setText("Actualizar clasificación");
        bActualizar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bActualizarActionPerformed(evt);
            }
        });

        bVolcarTXT.setText("Generar TXT");
        bVolcarTXT.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bVolcarTXTActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout dialogoRankingLayout = new javax.swing.GroupLayout(dialogoRanking.getContentPane());
        dialogoRanking.getContentPane().setLayout(dialogoRankingLayout);
        dialogoRankingLayout.setHorizontalGroup(
            dialogoRankingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoRankingLayout.createSequentialGroup()
                .addGap(362, 362, 362)
                .addComponent(bActualizar)
                .addGap(90, 90, 90)
                .addComponent(bVolcarTXT)
                .addGap(0, 506, Short.MAX_VALUE))
            .addGroup(dialogoRankingLayout.createSequentialGroup()
                .addGroup(dialogoRankingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(dialogoRankingLayout.createSequentialGroup()
                        .addGap(6, 6, 6)
                        .addComponent(jLabel23)
                        .addGap(18, 18, 18)
                        .addComponent(comboOrdenarClasificacion, javax.swing.GroupLayout.PREFERRED_SIZE, 187, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(bAceptarClasificacion)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(comboUsersClasificacion, javax.swing.GroupLayout.PREFERRED_SIZE, 169, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(bVerDetallePartida))
                    .addGroup(dialogoRankingLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jScrollPane1)))
                .addContainerGap())
        );
        dialogoRankingLayout.setVerticalGroup(
            dialogoRankingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoRankingLayout.createSequentialGroup()
                .addGroup(dialogoRankingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(dialogoRankingLayout.createSequentialGroup()
                        .addGap(14, 14, 14)
                        .addComponent(jLabel23))
                    .addGroup(dialogoRankingLayout.createSequentialGroup()
                        .addGap(9, 9, 9)
                        .addComponent(comboOrdenarClasificacion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(dialogoRankingLayout.createSequentialGroup()
                        .addGap(6, 6, 6)
                        .addComponent(bAceptarClasificacion))
                    .addGroup(dialogoRankingLayout.createSequentialGroup()
                        .addGap(6, 6, 6)
                        .addGroup(dialogoRankingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(comboUsersClasificacion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(bVerDetallePartida))))
                .addGap(6, 6, 6)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 725, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(5, 5, 5)
                .addGroup(dialogoRankingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(bActualizar)
                    .addComponent(bVolcarTXT)))
        );

        dialogoCritica.setTitle("Críticas");
        dialogoCritica.setResizable(false);
        dialogoCritica.setSize(new java.awt.Dimension(1070, 698));

        comboPelisCriticas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                comboPelisCriticasActionPerformed(evt);
            }
        });

        BVer.setText("Ver críticas");
        BVer.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BVerActionPerformed(evt);
            }
        });

        BCompartir1.setText("Compartir...");
        BCompartir1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BCompartir1ActionPerformed(evt);
            }
        });

        textoCriticas.setColumns(20);
        textoCriticas.setRows(5);
        jScrollPane4.setViewportView(textoCriticas);

        javax.swing.GroupLayout dialogoCriticaLayout = new javax.swing.GroupLayout(dialogoCritica.getContentPane());
        dialogoCritica.getContentPane().setLayout(dialogoCriticaLayout);
        dialogoCriticaLayout.setHorizontalGroup(
            dialogoCriticaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoCriticaLayout.createSequentialGroup()
                .addGap(6, 6, 6)
                .addGroup(dialogoCriticaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(dialogoCriticaLayout.createSequentialGroup()
                        .addComponent(comboPelisCriticas, javax.swing.GroupLayout.PREFERRED_SIZE, 228, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(12, 12, 12)
                        .addComponent(BVer)
                        .addGap(504, 504, 504)
                        .addComponent(comboCriticas, javax.swing.GroupLayout.PREFERRED_SIZE, 122, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)
                        .addComponent(BCompartir1))
                    .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 1064, javax.swing.GroupLayout.PREFERRED_SIZE)))
        );
        dialogoCriticaLayout.setVerticalGroup(
            dialogoCriticaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoCriticaLayout.createSequentialGroup()
                .addGap(28, 28, 28)
                .addGroup(dialogoCriticaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(dialogoCriticaLayout.createSequentialGroup()
                        .addGap(6, 6, 6)
                        .addComponent(comboPelisCriticas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(BVer)
                    .addGroup(dialogoCriticaLayout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(comboCriticas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(BCompartir1))
                .addGap(26, 26, 26)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 612, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        dialogoEscribirCritica.setTitle("Escribr crítica");
        dialogoEscribirCritica.setResizable(false);
        dialogoEscribirCritica.setSize(new java.awt.Dimension(452, 303));

        jLabel24.setText("PUNTUACION:");

        jLabel25.setText("DESCRIPCION:");

        BAcept.setText("ACEPTAR");
        BAcept.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BAceptActionPerformed(evt);
            }
        });

        tPuntuacion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tPuntuacionActionPerformed(evt);
            }
        });

        tDescr.setColumns(20);
        tDescr.setRows(5);
        jScrollPane6.setViewportView(tDescr);

        jLabel26.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel26.setText("NUEVA CRITICA");

        javax.swing.GroupLayout dialogoEscribirCriticaLayout = new javax.swing.GroupLayout(dialogoEscribirCritica.getContentPane());
        dialogoEscribirCritica.getContentPane().setLayout(dialogoEscribirCriticaLayout);
        dialogoEscribirCriticaLayout.setHorizontalGroup(
            dialogoEscribirCriticaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoEscribirCriticaLayout.createSequentialGroup()
                .addGap(53, 53, 53)
                .addGroup(dialogoEscribirCriticaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel24)
                    .addComponent(jLabel25))
                .addGap(27, 27, 27)
                .addGroup(dialogoEscribirCriticaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(tPuntuacion, javax.swing.GroupLayout.PREFERRED_SIZE, 101, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jScrollPane6, javax.swing.GroupLayout.PREFERRED_SIZE, 264, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(38, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogoEscribirCriticaLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(dialogoEscribirCriticaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogoEscribirCriticaLayout.createSequentialGroup()
                        .addComponent(BAcept)
                        .addGap(178, 178, 178))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogoEscribirCriticaLayout.createSequentialGroup()
                        .addComponent(jLabel26)
                        .addGap(118, 118, 118))))
        );
        dialogoEscribirCriticaLayout.setVerticalGroup(
            dialogoEscribirCriticaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoEscribirCriticaLayout.createSequentialGroup()
                .addGap(42, 42, 42)
                .addComponent(jLabel26)
                .addGap(28, 28, 28)
                .addGroup(dialogoEscribirCriticaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel24)
                    .addComponent(tPuntuacion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGroup(dialogoEscribirCriticaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(dialogoEscribirCriticaLayout.createSequentialGroup()
                        .addGap(70, 70, 70)
                        .addComponent(jLabel25))
                    .addGroup(dialogoEscribirCriticaLayout.createSequentialGroup()
                        .addGap(26, 26, 26)
                        .addComponent(jScrollPane6, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 24, Short.MAX_VALUE)
                .addComponent(BAcept)
                .addGap(30, 30, 30))
        );

        dialogoPartidasTerminadas.setTitle("Partidas completadas");
        dialogoPartidasTerminadas.setResizable(false);
        dialogoPartidasTerminadas.setSize(new java.awt.Dimension(467, 380));

        bCompartirPartida.setText("Compartir...");
        bCompartirPartida.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bCompartirPartidaActionPerformed(evt);
            }
        });

        textoResultadoPartida.setColumns(20);
        textoResultadoPartida.setRows(5);
        jScrollPane7.setViewportView(textoResultadoPartida);

        bVerPartida.setText("Ver resultado...");
        bVerPartida.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bVerPartidaActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout dialogoPartidasTerminadasLayout = new javax.swing.GroupLayout(dialogoPartidasTerminadas.getContentPane());
        dialogoPartidasTerminadas.getContentPane().setLayout(dialogoPartidasTerminadasLayout);
        dialogoPartidasTerminadasLayout.setHorizontalGroup(
            dialogoPartidasTerminadasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, dialogoPartidasTerminadasLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(bCompartirPartida)
                .addGap(184, 184, 184))
            .addGroup(dialogoPartidasTerminadasLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane7)
                .addContainerGap())
            .addGroup(dialogoPartidasTerminadasLayout.createSequentialGroup()
                .addGap(76, 76, 76)
                .addComponent(comboPartidasTerminadas, javax.swing.GroupLayout.PREFERRED_SIZE, 161, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(59, 59, 59)
                .addComponent(bVerPartida)
                .addContainerGap(55, Short.MAX_VALUE))
        );
        dialogoPartidasTerminadasLayout.setVerticalGroup(
            dialogoPartidasTerminadasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dialogoPartidasTerminadasLayout.createSequentialGroup()
                .addGap(34, 34, 34)
                .addGroup(dialogoPartidasTerminadasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(comboPartidasTerminadas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(bVerPartida))
                .addGap(32, 32, 32)
                .addComponent(jScrollPane7, javax.swing.GroupLayout.DEFAULT_SIZE, 226, Short.MAX_VALUE)
                .addGap(18, 18, 18)
                .addComponent(bCompartirPartida)
                .addContainerGap())
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setMinimumSize(new java.awt.Dimension(918, 575));

        jLabel1.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        jLabel1.setText("Mi muro:");

        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        bCompartirTodo.setText("Compartir todo...");
        bCompartirTodo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bCompartirTodoActionPerformed(evt);
            }
        });

        bVerCriticas.setText("Críticas...");
        bVerCriticas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bVerCriticasActionPerformed(evt);
            }
        });

        bVerPeliculas.setText("Películas...");
        bVerPeliculas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bVerPeliculasActionPerformed(evt);
            }
        });

        bCerrarSesion.setText("Cerrar Sesión");
        bCerrarSesion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bCerrarSesionActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(bVerPeliculas, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(bVerCriticas, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(bCompartirTodo, javax.swing.GroupLayout.DEFAULT_SIZE, 207, Short.MAX_VALUE)
                    .addComponent(bCerrarSesion, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(bVerPeliculas)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(bVerCriticas)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(bCompartirTodo)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(bCerrarSesion)
                .addContainerGap())
        );

        textoMuro.setEditable(false);
        textoMuro.setColumns(20);
        textoMuro.setRows(5);
        jScrollPane2.setViewportView(textoMuro);

        bAmigos.setText("Amigos");

        bVerAmigos.setText("Ver lista de amigos...");
        bVerAmigos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bVerAmigosActionPerformed(evt);
            }
        });
        bAmigos.add(bVerAmigos);

        bSolicitudes.setText("Solicitudes de amistad...");
        bSolicitudes.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bSolicitudesActionPerformed(evt);
            }
        });
        bAmigos.add(bSolicitudes);

        bEnviarSolicitud.setText("Enviar solicitud de amistad");
        bEnviarSolicitud.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bEnviarSolicitudActionPerformed(evt);
            }
        });
        bAmigos.add(bEnviarSolicitud);

        jMenuBar1.add(bAmigos);

        jMenu2.setText("Trivia");

        botonJugarPartida.setText("Jugar partida...");
        botonJugarPartida.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botonJugarPartidaActionPerformed(evt);
            }
        });
        jMenu2.add(botonJugarPartida);

        bPartidasPendientes.setText("Mis partidas pendientes...");
        bPartidasPendientes.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bPartidasPendientesActionPerformed(evt);
            }
        });
        jMenu2.add(bPartidasPendientes);

        bPartidasTerminadas.setText("Mis partidas terminadas...");
        bPartidasTerminadas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bPartidasTerminadasActionPerformed(evt);
            }
        });
        jMenu2.add(bPartidasTerminadas);

        bClasificacion.setText("Clasificación...");
        bClasificacion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bClasificacionActionPerformed(evt);
            }
        });
        jMenu2.add(bClasificacion);

        jMenuBar1.add(jMenu2);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(19, 19, 19)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jLabel1)
                        .addGap(235, 235, 235))
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 664, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGap(17, 17, 17)
                .addComponent(jLabel1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 483, Short.MAX_VALUE))
                .addGap(16, 16, 16))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void bVerAmigosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bVerAmigosActionPerformed
        jComboLAmigos.removeAllItems();
        for(Usuario usuar: user.getLista_amigos()){
            jComboLAmigos.addItem(usuar.getNombre());
        }     
        DialogListaAmigos.setVisible(true);
    }//GEN-LAST:event_bVerAmigosActionPerformed

    private void botonJugarPartidaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_botonJugarPartidaActionPerformed
        // TODO add your handling code here:
        if(users.getListaUsuarios().size()>1){
            j2 = users.usuarioAleatorio(user);
            labelContrincante.setText(j2.getNombre());
            dialogoTrivia.setVisible(true);
            
        }
        else{
            JOptionPane.showMessageDialog(this, "No hay suficientes usuarios registrados para poder iniciar una partida.", "Jugadores insuficientes", JOptionPane.ERROR_MESSAGE);
        }
    }//GEN-LAST:event_botonJugarPartidaActionPerformed

    private void bVerPeliculasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bVerPeliculasActionPerformed
        Iterator<Pelicula> i = films.getListaPeliculas().iterator();  
        ComboPelis.removeAllItems();
        while (i.hasNext()){
            ComboPelis.addItem(i.next().getTitulo());// Asi salen los titulos en el combobox
        }
        DialogPelis.setVisible(true);
    }//GEN-LAST:event_bVerPeliculasActionPerformed

    private void bSolicitudesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bSolicitudesActionPerformed

        //Recorrido de la lista de solicitudes para meterla en el comboBox
        for (Usuario u: user.getSolicitudes_amigos_pendientes()){
            jComboSolicitudes.addItem(u.getNombre());
        }
        DialogListaSolicit.setVisible(true);
    }//GEN-LAST:event_bSolicitudesActionPerformed

    private void bCerrarSesionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bCerrarSesionActionPerformed
        // TODO add your handling code here:
        VentanaDatos vd = new VentanaDatos();
        vd.setUsers(users);
        vd.setFilms(films);
        vd.setVisible(true);
        this.setVisible(false);
    }//GEN-LAST:event_bCerrarSesionActionPerformed

    private void bVerCriticasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bVerCriticasActionPerformed
        // TODO add your handling code here:
        // for each
        comboPelisCriticas.removeAllItems();
        comboCriticas.removeAllItems();
        Iterator<Pelicula> i = films.getListaPeliculas().iterator();
        Pelicula p = null;
        while (i.hasNext()){
            p = i.next();
            comboPelisCriticas.addItem(p.getTitulo());
            
        }
        dialogoCritica.setVisible(true); 
    }//GEN-LAST:event_bVerCriticasActionPerformed

    private void bJugarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bJugarActionPerformed
        // TODO add your handling code here:
        partida = user.iniciarPartida(j2);      
        textoPregunta.setText(partida.getPreguntaActual().toString());
        preguntaNumero.setText("Pregunta " + String.valueOf(partida.getContadorPreguntas()+ 1));
        dialogoTrivia.setVisible(false);
        dialogoPreguntas.setVisible(true);
        
    }//GEN-LAST:event_bJugarActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        dialogoTrivia.setVisible(false);
    }//GEN-LAST:event_jButton1ActionPerformed

    private void bResponderActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bResponderActionPerformed
        // TODO add your handling code here:
        int puntosActuales = getPuntosActualesJugador();
               
        // si se ha acertado la pregunta
        if (partida.getPreguntaActual().comprobarRespuesta(textoRespuesta.getText())) {
            JOptionPane.showMessageDialog(dialogoPreguntas, "¡Respuesta correcta! +" + puntosActuales + " puntos", "Respuesta correcta", JOptionPane.PLAIN_MESSAGE);
            actualizarPuntosDePregunta();
            if(partida.getContadorPreguntas()== 5){
                finalizarPartida();
            }else{
                nuevaPregunta();
            }

            // si se ha fallado la pregunta
        } else {
            JOptionPane.showMessageDialog(dialogoPreguntas, "¡Respuesta incorrecta!", "Respuesta incorrecta", JOptionPane.PLAIN_MESSAGE);
            if(partida.getPreguntaActual().getNumero_pista() < 5){
                textoPistas.setText(textoPistas.getText() + "\n" + partida.getPreguntaActual().ofrecerNuevaPista());
                reducirPuntos();               
            }
        }
        if (partida.getPreguntaActual().getNumero_pista() > 4 && partida.getContadorPreguntas()< 5){
            JOptionPane.showMessageDialog(dialogoPreguntas, "Has alcanzado el número de pistas máximo.", "Respuesta incorrecta", JOptionPane.PLAIN_MESSAGE);
            actualizarPuntosDePregunta();
            nuevaPregunta();
        }
        else if(partida.getPreguntaActual().getNumero_pista() > 3 && partida.getContadorPreguntas()== 5){
            JOptionPane.showMessageDialog(dialogoPreguntas, "Has alcanzado el número de pistas máximo.", "Respuesta incorrecta", JOptionPane.PLAIN_MESSAGE);
            actualizarPuntosDePregunta();
            finalizarPartida();
        }
    }//GEN-LAST:event_bResponderActionPerformed

    private void textoRespuestaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_textoRespuestaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_textoRespuestaActionPerformed

    private void BAnadirpeliActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BAnadirpeliActionPerformed
        // TODO add your handling code here:
        DialogAnadir.setVisible(true);
        DialogPelis.setVisible(false); // Hacemos visible la nueva ventana y esta desaparece
    }//GEN-LAST:event_BAnadirpeliActionPerformed

    private void ComboPelisActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ComboPelisActionPerformed
        // TODO add your handling code here:

    }//GEN-LAST:event_ComboPelisActionPerformed

    private void BCompartirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BCompartirActionPerformed

        inicializarCompartir();
        tipoACompartir = 0;
        DialogCompartir.setVisible(true);
    }//GEN-LAST:event_BCompartirActionPerformed

    private void BCriticaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BCriticaActionPerformed
        // TODO add your handling code here:
        dialogoEscribirCritica.setVisible(true);
        DialogPelis.setVisible(false);
    }//GEN-LAST:event_BCriticaActionPerformed

    private void BVerpeliActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BVerpeliActionPerformed
        // TODO add your handling code here:
        Pelicula p = films.buscarPelicula((String)ComboPelis.getSelectedItem());
        lTitulo.setText(p.getTitulo()); 
        lGen.setText(p.getGenero()); 
        lActor.setText(p.getActor());
        lActriz.setText(p.getActriz());
        lDir.setText(p.getDirector()); 
        lAnno.setText(String.valueOf(p.getAno()));
        DialogVerPeli.setVisible(true);
        DialogPelis.setVisible(false);
    }//GEN-LAST:event_BVerpeliActionPerformed

    private void bPartidasPendientesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bPartidasPendientesActionPerformed
        dialogoPartidasPendientes.setVisible(true);
        for(Partida p : user.getPartidas_pendientes()){
            comboPartidasPendientes.addItem(p);
        }
        
    }//GEN-LAST:event_bPartidasPendientesActionPerformed

    private void bCompartirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bCompartirActionPerformed
        if (jComboAQuien.getSelectedIndex() == 0){
            compartirTodos(tipoACompartir);
        }else{
            Usuario u = users.bucarUsuario((String) jComboAQuien.getSelectedItem());
            compartir(tipoACompartir, u);
        }
        
        JOptionPane.showMessageDialog(null, "Se ha compartido correctamente");
        DialogCompartir.setVisible(false);

    }//GEN-LAST:event_bCompartirActionPerformed

    private void jComboAQuienActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboAQuienActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboAQuienActionPerformed

    private void TextFieldAnoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TextFieldAnoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_TextFieldAnoActionPerformed

    private void TextFieldDirectorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TextFieldDirectorActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_TextFieldDirectorActionPerformed

    private void TextFieldActorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TextFieldActorActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_TextFieldActorActionPerformed

    private void bAnadirPeliculaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bAnadirPeliculaActionPerformed
        // TODO add your handling code here:
        if(films.existe(TextFieldTitulo.getText())){
            JOptionPane.showMessageDialog(this, "Esta película ya existe", "Error", JOptionPane.ERROR_MESSAGE);
        }
        else if(TextFieldTitulo.getText().length() < 1 || TextFieldAno.getText().length()<1 ||  TextFieldDirector.getText().length()<1 ||  TextFieldActor.getText().length()<1 ||  TextFieldActriz.getText().length()<1 ||  TextFieldGen.getText().length()<1){
            JOptionPane.showMessageDialog(this, "Alguno de los campos está vacío", "Error", JOptionPane.ERROR_MESSAGE);
        }
        else if(comprobarAno(TextFieldAno.getText())){
            Pelicula film = new Pelicula(TextFieldTitulo.getText(), Integer.parseInt(TextFieldAno.getText()), TextFieldDirector.getText(), TextFieldActor.getText(),   TextFieldActriz.getText(), TextFieldGen.getText());
            films.anadirPelicula(film);
            StringBuilder sb = new StringBuilder(film.toString());
            user.setMuro(sb);
            actualizarMuro(user);
            JOptionPane.showMessageDialog(this, "La película ha sido añadida");
            DialogAnadir.setVisible(false);
            ComboPelis.removeAllItems();
            Iterator<Pelicula> i = films.getListaPeliculas().iterator();  
            while (i.hasNext()){
                ComboPelis.addItem(i.next().getTitulo());// Asi salen los titulos en el combobox
            }
            DialogPelis.setVisible(true);
        }
        
    }//GEN-LAST:event_bAnadirPeliculaActionPerformed

    private void bAceptActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bAceptActionPerformed

        DialogVerPeli.setVisible(false);
        this.setVisible(true);
    }//GEN-LAST:event_bAceptActionPerformed

    private void jComboLAmigosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboLAmigosActionPerformed

    }//GEN-LAST:event_jComboLAmigosActionPerformed

    private void jBotonVerAmigoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBotonVerAmigoActionPerformed

        Usuario amigo = new Usuario();
        String name = (String) jComboLAmigos.getSelectedItem();
        
        for(Usuario aux: user.getLista_amigos()){//forEach para buscar en la lista de amigos cual es el que se ha seleccionado
            if (aux.getNombre().equals(name)){
                amigo = aux;
            }
        }
        jLabelNombreAmigo.setText("Muro de " + amigo.getNombre());
        textoMuroAmigo.setText(amigo.getMuro().toString());
        DialogVerAmigo.setVisible(true);
        DialogListaAmigos.setVisible(false);

    }//GEN-LAST:event_jBotonVerAmigoActionPerformed

    private void jButtonAceptActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonAceptActionPerformed
        ArrayList<Usuario> solicitudes = user.getSolicitudes_amigos_pendientes();       
        Iterator<Usuario> it = solicitudes.iterator();
        boolean encontrado = false;
        Usuario u = new Usuario();
        while(it.hasNext() && !encontrado){
            u = it.next();
            if (jComboSolicitudes.getSelectedItem().equals(u.getNombre())) {
                user.aceptarInvitacion(u);
                jComboSolicitudes.removeItemAt(jComboSolicitudes.getSelectedIndex());
                encontrado = true;
                DialogListaSolicit.setVisible(false);
                JOptionPane.showMessageDialog(DialogListaSolicit, "Has aceptado la solicitud de amistad del usuario " + u.getNombre());
            }
        }
        
        

    }//GEN-LAST:event_jButtonAceptActionPerformed

    private void jButtonRechActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonRechActionPerformed
        ArrayList<Usuario> solicitudes = user.getSolicitudes_amigos_pendientes();
        Iterator<Usuario> it = solicitudes.iterator();
        boolean encontrado = false;
        Usuario u = new Usuario();
        while (it.hasNext() && !encontrado) {
            u = it.next();
            if (jComboSolicitudes.getSelectedItem().equals(u.getNombre())) {
                user.rechazarInvitacion(u);
                jComboSolicitudes.removeItemAt(jComboSolicitudes.getSelectedIndex());
                encontrado = true;
                DialogListaSolicit.setVisible(false);
                JOptionPane.showMessageDialog(DialogListaSolicit, "La solicitud de amistad del usuario " + u.getNombre() + " ha sido rechazada.");
            }
        }
    }//GEN-LAST:event_jButtonRechActionPerformed

    private void bEnviarSolicitudActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bEnviarSolicitudActionPerformed
        jComboNoAmigos.removeAllItems();
        for(Usuario u: users.getListaUsuarios()){
            if((!user.getLista_amigos().contains(u) ) && (!u.getNombre().equals(user.getNombre()))){
                jComboNoAmigos.addItem(u.getNombre());
            }
            
        }
        DialogEnviarSolicitud.setVisible(true);
    }//GEN-LAST:event_bEnviarSolicitudActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        if(jComboNoAmigos.getSelectedItem() == null){
            JOptionPane.showMessageDialog(DialogEnviarSolicitud, "No se ha seleccionado ningun usuario", "Error", JOptionPane.ERROR_MESSAGE);
        }else{
            Usuario amig = users.bucarUsuario((String) jComboNoAmigos.getSelectedItem());
            user.invitarAmigo(amig);
            jComboNoAmigos.removeItemAt(jComboNoAmigos.getSelectedIndex());
            DialogEnviarSolicitud.setVisible(false);
            JOptionPane.showMessageDialog(DialogEnviarSolicitud, "Se ha enviado una solicitud de amistad a " + amig.getNombre());
        }
        
    }//GEN-LAST:event_jButton4ActionPerformed

    private void jComboSolicitudesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboSolicitudesActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboSolicitudesActionPerformed

    private void comboPartidasPendientesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_comboPartidasPendientesActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_comboPartidasPendientesActionPerformed

    private void bJugarPendienteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bJugarPendienteActionPerformed
        // TODO add your handling code here:
        partida = (Partida) comboPartidasPendientes.getSelectedItem();
        partida.setContadorPreguntasACero();
        textoPregunta.setText(partida.getPreguntaActual().toString());
        preguntaNumero.setText("Pregunta " + String.valueOf(partida.getContadorPreguntas()+ 1));
        dialogoPreguntas.setVisible(true);
    }//GEN-LAST:event_bJugarPendienteActionPerformed

    private void bClasificacionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bClasificacionActionPerformed

        ranking = new Clasificacion(users);
        textoRanking.setText(ranking.toString());
        for (Item i : ranking.getListaItems()) {
            comboUsersClasificacion.addItem(i);
        }
        dialogoRanking.setVisible(true);
    }//GEN-LAST:event_bClasificacionActionPerformed

    private void comboPelisCriticasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_comboPelisCriticasActionPerformed
        // TODO add your handling code here:
        
    }//GEN-LAST:event_comboPelisCriticasActionPerformed

    private void BVerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BVerActionPerformed
        // TODO add your handling code here:
        Pelicula p = films.buscarPelicula((String)comboPelisCriticas.getSelectedItem());
        comboCriticas.removeAllItems();
        String criticas = "";
        for (Critica c : p.getListaCriticas()) {
            comboCriticas.addItem(c);
            criticas += c.mostrarCritica();
        }
        textoCriticas.setText(criticas);

    }//GEN-LAST:event_BVerActionPerformed

    private void BCompartir1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BCompartir1ActionPerformed
        // TODO add your handling code here:
        inicializarCompartir();
        tipoACompartir = 1;
        DialogCompartir.setVisible(true);
    }//GEN-LAST:event_BCompartir1ActionPerformed

    private void bCompartirTodoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bCompartirTodoActionPerformed
        inicializarCompartir();
        tipoACompartir = 3;
        DialogCompartir.setVisible(true);
    }//GEN-LAST:event_bCompartirTodoActionPerformed

    private void bVolcarTXTActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bVolcarTXTActionPerformed
        // TODO add your handling code here:
        JFileChooser selectorArchivos = new JFileChooser();
        selectorArchivos.addChoosableFileFilter(new FileNameExtensionFilter("Archivos de texto (.txt)", "txt", "TXT"));     // asi se pueden filtrar los archivos.txt
        selectorArchivos.setAcceptAllFileFilterUsed(false);
        int opcionSeleccionada = selectorArchivos.showSaveDialog(this);
        if (opcionSeleccionada == JFileChooser.APPROVE_OPTION) {
            try {
                File archivo = selectorArchivos.getSelectedFile();
                String ruta = archivo.getAbsolutePath();
                if (!ruta.endsWith(".txt")) {
                    ruta += ".txt";     // si el usuario no ha puesto la extension .txt, se escribe automaticamente
                }
                ranking.volcarTXT(ruta);
                JOptionPane.showMessageDialog(this, "Se ha guardado el archivo " + ruta + " correctamente.", "Éxito", JOptionPane.INFORMATION_MESSAGE);
            } catch (IOException ex) {
                JOptionPane.showMessageDialog(this, "Se ha producido un error al guardar el archivo.", "Error", JOptionPane.ERROR_MESSAGE);
            }
        }
    }//GEN-LAST:event_bVolcarTXTActionPerformed

    private void bActualizarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bActualizarActionPerformed
        ranking.actualizar();
        textoRanking.setText(ranking.toString());
    }//GEN-LAST:event_bActualizarActionPerformed

    private void bVerDetallePartidaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bVerDetallePartidaActionPerformed
        Item item = (Item) comboUsersClasificacion.getSelectedItem();
        textoRanking.setText(item.detallePartidas(users));
    }//GEN-LAST:event_bVerDetallePartidaActionPerformed

    private void bAceptarClasificacionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bAceptarClasificacionActionPerformed
        int indice = comboOrdenarClasificacion.getSelectedIndex();

        switch(indice){
            case 0: ranking.actualizar();
            textoRanking.setText(ranking.toString());
            break;
            case 1: ranking.ordenarPorcentaje();
            textoRanking.setText(ranking.toString());
            break;
            case 2: ranking.ordenarVictorias();
            textoRanking.setText(ranking.toString());
            break;
            case 3: ranking.ordenarPuntos();
            textoRanking.setText(ranking.toString());
            break;
        }
    }//GEN-LAST:event_bAceptarClasificacionActionPerformed

    private void comboOrdenarClasificacionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_comboOrdenarClasificacionActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_comboOrdenarClasificacionActionPerformed

    private void jComboNoAmigosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboNoAmigosActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboNoAmigosActionPerformed

    private void BAceptActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BAceptActionPerformed
        // TODO add your handling code here:
        double puntuacion = Double.parseDouble(tPuntuacion.getText());
        if(puntuacion>10 || puntuacion<0){
            JOptionPane.showMessageDialog(this, "Introduzca una puntuación de 0 a 10","ERROR", JOptionPane.ERROR_MESSAGE);
        }
        else{
            Pelicula p = films.buscarPelicula((String) ComboPelis.getSelectedItem());
            Critica c = new Critica(p.getTitulo(), puntuacion, tDescr.getText());
            user.añadirCritica(c, p);
            dialogoEscribirCritica.setVisible(false);
            JOptionPane.showMessageDialog(this, "Crítica guardada correctamente", "ÉXITO", JOptionPane.INFORMATION_MESSAGE);
            actualizarMuro(user);
        }
        

    }//GEN-LAST:event_BAceptActionPerformed

    private void tPuntuacionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tPuntuacionActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tPuntuacionActionPerformed

    private void bVerPartidaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bVerPartidaActionPerformed
        // TODO add your handling code here:
        textoResultadoPartida.setText(((Partida)comboPartidasTerminadas.getSelectedItem()).getResultado_final());
    }//GEN-LAST:event_bVerPartidaActionPerformed

    private void bPartidasTerminadasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bPartidasTerminadasActionPerformed
        // TODO add your handling code here:
        for(Partida p : user.getPartidas_completas()){
            comboPartidasTerminadas.addItem(p);
        }
        dialogoPartidasTerminadas.setVisible(true);
    }//GEN-LAST:event_bPartidasTerminadasActionPerformed

    private void bCompartirPartidaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bCompartirPartidaActionPerformed
        // TODO add your handling code here:
        inicializarCompartir();
        tipoACompartir = 2;
        DialogCompartir.setVisible(true);
    }//GEN-LAST:event_bCompartirPartidaActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(VentanaPrincipal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(VentanaPrincipal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(VentanaPrincipal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(VentanaPrincipal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new VentanaPrincipal().setVisible(true);
            }
        });
    }
    
    public void setUser(Usuario u){
        this.user = u;
    }

    public void setUsers(Usuarios users) {
        this.users = users;
    }

    public void setFilms(Peliculas films) {
        this.films = films;
    }
    
    private void finalizarPartida() {
        if (user.equals(partida.getJ1())) {
            partida.ponerEnPendientes();
            JOptionPane.showMessageDialog(this, "¡Todas las preguntas completadas!\nHas ganado un total de " + partida.getPtos_jugador1()+ " puntos. \nQueda pendiente que el contrincante responda sus preguntas para conocer el resultado.", "Preguntas completadas", JOptionPane.PLAIN_MESSAGE);
        } else if (user.equals(partida.getJ2())) {
            partida.finalizarPartida();
            
            JOptionPane.showMessageDialog(this, "¡Todas las preguntas completadas!\nHas ganado un total de " + partida.getPtos_jugador2()+ " puntos. \nResultado:\n" + partida.getResultado_final(), "Partida completada", JOptionPane.PLAIN_MESSAGE);
            user.setMuro(new StringBuilder(partida.getResultado_final()));
            j2.setMuro(new StringBuilder(partida.getResultado_final()));
            dialogoPreguntas.setVisible(false);
            actualizarMuro(partida.getJ2());
            actualizarMuro(partida.getJ1());
          
            
        }
        dialogoPreguntas.setVisible(false);
        this.setVisible(true);
    }
    
    private void nuevaPregunta(){
        textoPregunta.setText(partida.ofrecerNuevaPregunta());
        preguntaNumero.setText("Pregunta " + String.valueOf(partida.getContadorPreguntas()+ 1));
        textoPistas.setText("");
    }
    
    
    public void setTextoMuro(StringBuilder s){
        textoMuro.setText(s.toString());
    }
    
    private void actualizarMuro(Usuario u) {
        textoMuro.setText(u.getMuro().toString());
    }
    
    public int getPuntosJugador(){
        int puntos = 0;
        if (user.equals(partida.getJ1())) {
            puntos = partida.getPtos_jugador1();
        } else if (user.equals(partida.getJ2())) {
            puntos = partida.getPtos_jugador2();
        }
        return puntos;
    }
    
    public void setPuntosJugador(int ptos){
        if (user.equals(partida.getJ1())) {
            partida.setPtos_jugador1(ptos);
        } else if (user.equals(partida.getJ2())) {
            partida.setPtos_jugador2(ptos);
        }
    }
    
    private int getPuntosActualesJugador() {
        int puntos = 0;
        if (user.equals(partida.getJ1())) {
            puntos = partida.getPreguntaActual().getPuntos_jugador_1();
        } else if (user.equals(partida.getJ2())) {
            puntos = partida.getPreguntaActual().getPuntos_jugador_2();
        }
        return puntos;
    }
    
    private void actualizarPuntosDePregunta(){
        if (user.equals(partida.getJ1())) {
            partida.actualizarPuntos(1);
        } else if (user.equals(partida.getJ2())) {
            partida.actualizarPuntos(2);
        }
        
    }
    
    private void reducirPuntos(){
        if (user.equals(partida.getJ1())) {
            partida.getPreguntaActual().reducirPuntos(1);
        } else if (user.equals(partida.getJ2())) {
            partida.getPreguntaActual().reducirPuntos(2);
        }
    }
    
    private void compartirTodos(int tipo){
        switch (tipo) {
            case 0:
                user.compartirPelicula(films.buscarPelicula((String) ComboPelis.getSelectedItem()));
                break;
            case 1:
                user.compartirCritica((Critica) comboCriticas.getSelectedItem());
                break;
            case 2: user.compartirPartida((Partida) comboPartidasTerminadas.getSelectedItem());
                break;
            case 3:
                user.compartirTodo();
        }
    }
    
    private void compartir(int tipo, Usuario u) {
        switch(tipo){
            case 0: 
                user.compartirPelicula(films.buscarPelicula((String) ComboPelis.getSelectedItem()), u);
                break;
            case 1: 
                user.compartirCritica((Critica) comboCriticas.getSelectedItem(), u);
                break;
            case 2: user.compartirPartida((Partida)comboPartidasTerminadas.getSelectedItem(), u);
                break;
            case 3: user.compartirTodo(u);
        }

    }
    
    private void inicializarCompartir(){
        jComboAQuien.removeAllItems();
        String s = "Todos los amigos";
        jComboAQuien.addItem(s);
        Iterator<Usuario> iter = user.getLista_amigos().iterator();
        Usuario usuar = new Usuario();
        //iterator para el combobox
        while (iter.hasNext()) {
            usuar = iter.next();
            jComboAQuien.addItem(usuar.getNombre());
        }
    }
    
    private boolean comprobarAno(String s){
        boolean esNumerico = false;
        try {
            Integer.parseInt(s);
        } catch (NumberFormatException e) {
            JOptionPane.showMessageDialog(this, "El año debe ser numérico", "Error", JOptionPane.ERROR_MESSAGE);
            return esNumerico;
        }
        esNumerico = true;
        return esNumerico;
    }
    

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton BAcept;
    private javax.swing.JButton BAnadirpeli;
    private javax.swing.JButton BCompartir;
    private javax.swing.JButton BCompartir1;
    private javax.swing.JButton BCritica;
    private javax.swing.JButton BVer;
    private javax.swing.JButton BVerpeli;
    private javax.swing.JComboBox<String> ComboPelis;
    private javax.swing.JDialog DialogAnadir;
    private javax.swing.JDialog DialogCompartir;
    private javax.swing.JDialog DialogEnviarSolicitud;
    private javax.swing.JDialog DialogListaAmigos;
    private javax.swing.JDialog DialogListaSolicit;
    private javax.swing.JDialog DialogPelis;
    private javax.swing.JDialog DialogVerAmigo;
    private javax.swing.JDialog DialogVerPeli;
    private javax.swing.JTextField TextFieldActor;
    private javax.swing.JTextField TextFieldActriz;
    private javax.swing.JTextField TextFieldAno;
    private javax.swing.JTextField TextFieldDirector;
    private javax.swing.JTextField TextFieldGen;
    private javax.swing.JTextField TextFieldTitulo;
    private javax.swing.JButton bAcept;
    private javax.swing.JButton bAceptarClasificacion;
    private javax.swing.JButton bActualizar;
    private javax.swing.JMenu bAmigos;
    private javax.swing.JButton bAnadirPelicula;
    private javax.swing.JButton bCerrarSesion;
    private javax.swing.JMenuItem bClasificacion;
    private javax.swing.JButton bCompartir;
    private javax.swing.JButton bCompartirPartida;
    private javax.swing.JButton bCompartirTodo;
    private javax.swing.JMenuItem bEnviarSolicitud;
    private javax.swing.JButton bJugar;
    private javax.swing.JButton bJugarPendiente;
    private javax.swing.JMenuItem bPartidasPendientes;
    private javax.swing.JMenuItem bPartidasTerminadas;
    private javax.swing.JButton bResponder;
    private javax.swing.JMenuItem bSolicitudes;
    private javax.swing.JMenuItem bVerAmigos;
    private javax.swing.JButton bVerCriticas;
    private javax.swing.JButton bVerDetallePartida;
    private javax.swing.JButton bVerPartida;
    private javax.swing.JButton bVerPeliculas;
    private javax.swing.JButton bVolcarTXT;
    private javax.swing.JMenuItem botonJugarPartida;
    private javax.swing.JComboBox<Critica> comboCriticas;
    private javax.swing.JComboBox<String> comboOrdenarClasificacion;
    private javax.swing.JComboBox<Partida> comboPartidasPendientes;
    private javax.swing.JComboBox<Partida> comboPartidasTerminadas;
    private javax.swing.JComboBox<String> comboPelisCriticas;
    private javax.swing.JComboBox<Item> comboUsersClasificacion;
    private javax.swing.JDialog dialogoCritica;
    private javax.swing.JDialog dialogoEscribirCritica;
    private javax.swing.JDialog dialogoPartidasPendientes;
    private javax.swing.JDialog dialogoPartidasTerminadas;
    private javax.swing.JDialog dialogoPreguntas;
    private javax.swing.JDialog dialogoRanking;
    private javax.swing.JDialog dialogoTrivia;
    private javax.swing.JButton jBotonVerAmigo;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButtonAcept;
    private javax.swing.JButton jButtonRech;
    private javax.swing.JComboBox<String> jComboAQuien;
    private javax.swing.JComboBox<String> jComboLAmigos;
    private javax.swing.JComboBox<String> jComboNoAmigos;
    private javax.swing.JComboBox<String> jComboSolicitudes;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabelNombreAmigo;
    private javax.swing.JLabel jLabelSolitudes;
    private javax.swing.JMenu jMenu2;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JScrollPane jScrollPane7;
    private javax.swing.JLabel lActor;
    private javax.swing.JLabel lActriz;
    private javax.swing.JLabel lAnno;
    private javax.swing.JLabel lDir;
    private javax.swing.JLabel lGen;
    private javax.swing.JLabel lTitulo;
    private javax.swing.JLabel labelContrincante;
    private javax.swing.JLabel preguntaNumero;
    private javax.swing.JTextArea tDescr;
    private javax.swing.JTextField tPuntuacion;
    private javax.swing.JTextArea textoCriticas;
    private javax.swing.JTextArea textoMuro;
    private javax.swing.JTextArea textoMuroAmigo;
    private javax.swing.JTextArea textoPistas;
    private javax.swing.JLabel textoPregunta;
    private javax.swing.JTextArea textoRanking;
    private javax.swing.JTextField textoRespuesta;
    private javax.swing.JTextArea textoResultadoPartida;
    // End of variables declaration//GEN-END:variables
}
